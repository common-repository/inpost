///
// inpostcheckout.min.js file
//

function user_function(e){var t=e.split(";");document.getElementById("town").value=t[1],document.getElementById("street").value=t[2]+t[3]}function check_inpost_field_checked(){var e=jQuery("#inpost_can_use").val();if("0"==e)jQuery("#shipping_method_0_inpost_shipping_method").prop("disabled",!0),remove_inpost_fields();else{var t=jQuery("#shipping_method_0_inpost_shipping_method").prop("checked");1==t?0==jQuery("#li_machine").length&&add_inpost_fields():remove_inpost_fields()}}function add_inpost_fields(){if("1"==jQuery("#inpost_shipment").val()&&(jQuery("#shipping_address_1").val("InPost Locker"),jQuery("#shipping_city").val("InPost Locker"),jQuery("#shipping_postcode").val("IN9 0ST"),jQuery("#ship-to-different-address-checkbox").prop("checked",!0)),!(jQuery("#li_machine").length>0)){var e="";e+='<table id="li_machine" border="0px">',e+="<tr>",e+="<td>",e+='<label for="terminal" >Select a Locker: </label><br>',e+='<div align="center">',e+='<script type="text/javascript" src="https://geowidget.inpost.co.uk/dropdown.php?field_to_update=name&field_to_update2=address&user_function=user_function"></script>            ',e+='<a href="#" onclick="openMap(); return false;"> <span style="font-size:15px; color:blue;">',e+='<img src="https://inpost247.uk/example-stores/images/map_icon.png" alt="InPost 24/7 Parcel Lockers" title="InPost 24/7 Parcel Lockers" </span></a>',e+="</div>",e+="</td>",e+="</tr>",e+="<tr>",e+="<td>",e+='<label for="name" ><span style="color:grey;">Locker ID:</span> </label><br><input placeholder="Select from MAP" style="color:grey;" type="text" size="15" id="name" name="attributes[inpost_dest_machine]">',e+='<input type="hidden" id="address" name="address">',e+='<input type="hidden" style="color:grey;" type="text" size="30" id="street" name="attributes[inpost_terminal_street]">',e+='<input type="hidden" style="color:grey;" type="text" size="20" id="town" name="attributes[inpost_terminal_town]">',e+="</td>",e+="</tr>",e+="<tr>",e+="<td>",e+='<label for="mobile" >Enter Mobile (07): </label><input type="text" size="10" maxlength="9" id="mobile" name="attributes[inpost_cust_mobile]">',e+="</td>",e+="</tr>",e+="</table>",jQuery(".woocommerce-billing-fields").append(e)}}function remove_inpost_fields(){var e=jQuery("#mobile").get();""!=e&&jQuery("#li_machine").remove()}jQuery(document).ready(function(){if("undefined"==typeof wc_add_to_cart_params)return alert("Parameter NOT defined"),!1;var e=jQuery("#inpost_can_use").val();if("0"==e)jQuery("#shipping_method_0_inpost_shipping_method").prop("disabled",!0),remove_inpost_fields();else{var t=jQuery("#shipping_method_0_inpost_shipping_method").prop("checked");1==t?0==jQuery("#li_machine").length&&add_inpost_fields():remove_inpost_fields()}jQuery("#ship-to-different-address-checkbox").change(function(){check_inpost_field_checked()}),jQuery("#billing_phone").change(function(){check_inpost_field_checked()})}),jQuery(function(e){e(document).on("change","select.shipping_method, input[name^=shipping_method]",function(){var e=jQuery("#inpost_can_use").val();if("0"==e)jQuery("#shipping_method_0_inpost_shipping_method").prop("disabled",!0),remove_inpost_fields();else{var t=jQuery("#shipping_method_0_inpost_shipping_method").prop("checked");1==t?0==jQuery("#li_machine").length&&add_inpost_fields():remove_inpost_fields()}})});
